# 正则表达式

```
一个正则表达式，就是用某种模式去匹配一类字符串的一个公式。
```

- 常用的正则表达式

```
序号	作用	正则表达式
1	要求是手机	^[1]{1}[3]{1}(\d){9}$
2	要求是电话	^((\d){3,4}[-]{1})?([1-9]{1}(\d){5,7})([-]{1}(\d){1,6})?$
3	要求是日期(1999-10-02)	^\d{4}-\d{1,2}-\d{1,2}
4	要求是非负整数（正整数 + 0）	^\d+$　
5	要求是正整数	^[0-9]*[1-9][0-9]*$
6	要求是非正整数（负整数 + 0	^((-\d+)(0+))$
7	要求是负整数	^-[0-9]*[1-9][0-9]*$
8	要求是整数	^-?\d+$
9	要求是非负浮点数（正浮点数 + 0	^\d+(\.\d+)?$
10	要求是正浮点数	^(([0-9]+\.[0-9]*[1-9][0-9]*)([0-9]*[1-9][0-9]*\.[0-9]+)([0-9]*[1-9][0-9]*))$
11	要求是非正浮点数（负浮点数 + 0）	^((-\d+(\.\d+)?)(0+(\.0+)?))$
12	要求负浮点数	^(-(([0-9]+\.[0-9]*[1-9][0-9]*)([0-9]*[1-9][0-9]*\.[0-9]+)([0-9]*[1-9][0-9]*)))$
13	要求是浮点数	^(-?\d+)(\.\d+)?$　
14	要求是由26个英文字母组成的字符串	^[A-Za-z]+$　
15	要求是由26个英文字母的大写组成的字符串	^[A-Z]+$　
16	要求是由26个英文字母的小写组成的字符串	^[a-z]+$　
17	要求是由数字和26个英文字母组成的字符串	^[A-Za-z0-9]+$　
18	要求是由数字、26个英文字母或者下划线组成的字符串	^\w+$
19	要求是mail	^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$
20	要求是汉字	^[\u4e00-\u9fa5]{0,}$
21	要求是身份证	\d{18}|\d{15}
22	要求是邮编	\d{6}
23	要求是密码（以字母开头，且为6-16位）	^[a-zA-Z]\w{5,17}$
```

```
1.验证用户名和密码：（"^[a-zA-Z]\w{5,15}$"）正确格式："[A-Z][a-z]_[0-9]"组成,并且第一个字必须为字母6~16位； 
2.验证电话号码：（"^(\d{3.4}-)\d{7,8}$"）正确格式：xxx/xxxx-xxxxxxx/xxxxxxxx； 
3.验证身份证号（15位或18位数字）：（"^\d{15}|\d{18}$"）； 
4.验证Email地址：("^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$")； 
5.只能输入由数字和26个英文字母组成的字符串：("^[A-Za-z0-9]+$") ; 
6.整数或者小数：^[0-9]+\.{0,1}[0-9]{0,2}$ 
7.只能输入数字："^[0-9]*$"。 
8.只能输入n位的数字："^\d{n}$"。 
9.只能输入至少n位的数字："^\d{n,}$"。 
10.只能输入m~n位的数字：。"^\d{m,n}$" 
11.只能输入零和非零开头的数字："^(0|[1-9][0-9]*)$"。 
12.只能输入有两位小数的正实数："^[0-9]+(.[0-9]{2})?$"。 
13.只能输入有1~3位小数的正实数："^[0-9]+(.[0-9]{1,3})?$"。 
14.只能输入非零的正整数："^\+?[1-9][0-9]*$"。 
15.只能输入非零的负整数："^\-[1-9][]0-9"*$。 
16.只能输入长度为3的字符："^.{3}$"。 
17.只能输入由26个英文字母组成的字符串："^[A-Za-z]+$"。 
18.只能输入由26个大写英文字母组成的字符串："^[A-Z]+$"。 
19.只能输入由26个小写英文字母组成的字符串："^[a-z]+$"。 
20.验证是否含有^%&',;=?$\"等字符："[^%&',;=?$\x22]+"。 
21.只能输入汉字："^[\u4e00-\u9fa5]{0,}$" 
22.验证URL："^http://([\w-]+\.)+[\w-]+(/[\w-./?%&=]*)?$"。 
23.验证一年的12个月："^(0?[1-9]|1[0-2])$"正确格式为："01"～"09"和"1"～"12"。 
24.验证一个月的31天："^((0?[1-9])|((1|2)[0-9])|30|31)$"正确格式为；"01"～"09"和"1"～"31"。 
25.获取日期正则表达式：\d{4}[年|\-|\.]\d{\1-\12}[月|\-|\.]\d{\1-\31}日? 
评注：可用来匹配大多数年月日信息。 
26.匹配双字节字符(包括汉字在内)：[^\x00-\xff] 
评注：可以用来计算字符串的长度（一个双字节字符长度计2，ASCII字符计1） 
27.匹配空白行的正则表达式：\n\s*\r 
评注：可以用来删除空白行 
28.匹配HTML标记的正则表达式：<(\S*?)[^>]*>.*?</>|<.*? /> 
评注：网上流传的版本太糟糕，上面这个也仅仅能匹配部分，对于复杂的嵌套标记依旧无能为力 
29.匹配首尾空白字符的正则表达式：^\s*|\s*$ 
评注：可以用来删除行首行尾的空白字符(包括空格、制表符、换页符等等)，非常有用的表达式 
30.匹配网址URL的正则表达式：[a-zA-z]+://[^\s]* 
评注：网上流传的版本功能很有限，上面这个基本可以满足需求 
31.匹配帐号是否合法(字母开头，允许5-16字节，允许字母数字下划线)：^[a-zA-Z][a-zA-Z0-9_]{4,15}$ 
评注：表单验证时很实用 
32.匹配腾讯QQ号：[1-9][0-9]\{4,\} 
评注：腾讯QQ号从1000 0 开始 
33.匹配中国邮政编码：[1-9]\d{5}(?!\d) 		评注：中国邮政编码为6位数字
```

```
方法
   在javascript中,通过test 、exec 方法和match、replace、search 、split 进行匹配处理

方法	描　述
exec	在字符串中执行搜索一个匹配的 RegExp 方法，它返回查找结果的数组
test	在字符串中测试一个匹配的 RegExp 方法，返回 true 或 false
match	在字符串中执行搜索一个匹配的 String 方法，返回一个信息的数组或错配后返回一个 null
search	在字符串中测试一个匹配的String 方法，返回匹配的索引，或错配后返回 -1
replace	在字符串中执行搜索一个匹配的 String 方法，并用另一个替换的该匹配的子串
split	一个 String 方法，用规则表达式或一个固定字符串分离为子串的数组
```

```
例：
// 判断输入是否是一个由 0-9 / A-Z / a-z 组成的字符串
function isalphanumber(str)
{
    var result=str.match(/^[a-zA-Z0-9]+$/);
    if(result==null) return false;
    return true;
}

// 判断输入是否是一个数字--(数字包含小数)--
function isnumber(str)
{
    return !isNaN(str);
}

// 判断输入是否是一个整数
function isint(str)
{
    var result=str.match(/^(-|\+)?\d+$/);
    if(result==null) return false;
    return true;
}

// 判断输入是否是有效的长日期格式 - "YYYY-MM-DD HH:MM:SS" || "YYYY/MM/DD HH:MM:SS"
function isdatetime(str)
{
    var result=str.match(/^(\d{4})(-|\/)(\d{1,2})\2(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2})$/);
    if(result==null) return false;
    var d= new Date(result[1], result[3]-1, result[4], result[5], result[6], result[7]);
    return (d.getFullYear()==result[1]&&(d.getMonth()+1)==result[3]&&d.getDate()==result[4]&&d.getHours()==result[5]&&d.getMinutes()==result[6]&&d.getSeconds()==result[7]);
}

// 检查是否为 YYYY-MM-DD || YYYY/MM/DD 的日期格式
function isdate(str){
   var result=str.match(/^(\d{4})(-|\/)(\d{1,2})\2(\d{1,2})$/);
   if(result==null) return false;
   var d=new Date(result[1], result[3]-1, result[4]);
   return (d.getFullYear()==result[1] && d.getMonth()+1==result[3] && d.getDate()==result[4]);
}

// 判断输入是否是有效的电子邮件
function isemail(str)
{
    var result=str.match(/^\w+((-\w+)|(\.\w+))*\@[A-Za-z0-9]+((\.|-)[A-Za-z0-9]+)*\.[A-Za-z0-9]+$/);
    if(result==null) return false;
    return true;
}


// 返回字符串的实际长度, 一个汉字算2个长度
function strlen(str){
   return str.replace(/[^\x00-\xff]/g, "**").length;
}


//匹配中国邮政编码(6位)
function ispostcode(str)
{
    var result=str.match(/[1-9]\d{5}(?!\d)/);
    if(result==null) return false;
    return true;
}
//匹配国内电话号码(0511-4405222 或 021-87888822)
function istell(str)
{
    var result=str.match(/\d{3}-\d{8}|\d{4}-\d{7}/);
    if(result==null) return false;
    return true;
}

//校验是否为(0-10000)的整数
function isint1(str)
{
    var result=str.match(/^[0-9]$|^([1-9])([0-9]){0,3}$|^10000$/);
    if(result==null) return false;
    return true;
}


//匹配腾讯QQ号
function isqq(str)
{
    var result=str.match(/[1-9][0-9]{4,}/);
    if(result==null) return false;
    return true;
}


//匹配身份证(15位或18位)
function isidcard(str)
{
    var result=str.match(/\d{15}|\d{18}/);
    if(result==null) return false;
    return true;
}
```
